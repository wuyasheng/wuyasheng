---
title: AMBA总线简介
author: yasheng
img: /medias/featureimages/amba.jpg
toc: true
mathjax: true
summary: 本文整理AMBA总线知识
categories: FPGA-详解
tags:
  - 总线协议
  - AMBA
abbrlink: 3342921539
date: 2020-08-24 22:27:09
password:
layout:
---


## AMBA总线协议

---

 注 : 本文内容收集至网络，[参考文](https://www.cnblogs.com/uiojhi/p/9366884.html)

AMBA 协议是用于连接和管理片上系统 (SoC) 中功能块的开放标准和芯片上互连规范。使用它，可以帮助开发带有大量控制器和外设的多处理器设计。

AMBA 通过使用 ACE、AXI、AHB、APB 和 ATB 的规范对 SoC 模块的共同主干进行定义，这有助于设计的重复使用。



### 1、AMBA 发展史

AMBA 1.0 ：只有ASB和APB

AMBA 2.0 ：引入AHB协议用于高速数据传输

AMBA 3.0 ： 为适应高吞吐量传输和调试引入AXI和ATB，增加高级可扩展接口，而AHB协议缩减为AHB-lite，APB协议增加了PREADY和PSLVERR，ASB由于设计复杂而不再使用；

AMBA 4.0 ：AXI得到了增强，引入QOS和long burst的支持，根据应用不同可选AXI4，AXI4-lite，AXI4-stream，同时为满足复杂SOC的操作一致性引入ACE和ACE-lite协议，APB和ATB也同时得到增强，比如APB加入了PPROT和PSTRB，另外为改善总线数据传输引入QVN协议；

---

### 2、总线概述

系统中的各个模块之间相互通信是通过总线，总线的作用就是把数据和地址从设备A搬到设备B。基于AMBA的微控制器典型的由一个高性能系统中枢总线组成，能够支持外部存储器带宽，包括CPU，片上存储器和其他直接数据存取设备，加上一个桥接器连接到较窄的挂接着较低带宽外设的APB总线。

AHB ：Advanced High-performance Bus

ASB ：Advanced System Bus

APB ：Advanced Peripheral Bus

AXI ：Advanced Extensible Interface

基于AMBA的微控制器典型地由一个高性能系统中枢总线( AMBA AHB或者AMBA ASB)组成,能够支持外部存储器带宽,包括CPU,片上存储器和其他直接数据存取(DMA）

设备。这条总线为上述单元之间大多数的传输提供高带宽接口。在这亲高性能总线上也有桥接器以连接低带宽的APB,而在APB上连接着大多数的系统外设(如图所示)

<img src="/images/post_images/amba_01_bus/amba.png">

---

### 3、总线比较

AHB：主要是针对高效率、高频宽及快速系统模块所设计的总线，它可以连接如微处理器、芯片上或芯片外的内存模块和DMA等高效率模块。
APB：主要用在低速且低功率的外围，可针对外围设备作功率消耗及复杂接口的最佳化。APB在AHB和低带宽的外围设备之间提供了通信的桥梁，所以APB是AHB或ASB的二级拓展总线。
AXI：高速度、高带宽，管道化互联，单向通道，只需要首地址，读写并行，支持乱序，支持非对齐操作，有效支持初始延迟较高的外设，连线非常多。

**几种AMBA总线的性能对比分析**

| 总线     | AXI                                                          | AHB                                                          | APB                                                     |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------- |
| 总线宽度 | 8, 16, 32, 64, 128, 256, 512, 1024                           | 32, 64, 128, 256                                             | 8, 16, 32                                               |
| 地址宽度 | 32                                                           | 32                                                           | 32                                                      |
| 通道特性 | 读写地址通道<br/>读写数据通道均独立                          | 读写地址通道<br/>共用读写数据通道                            | 读写地址通道<br/>共用读写数据通道<br>不支持读写并行操作 |
| 体系结构 | 多主/从设备<br/>仲裁机制                                     | 多主/从设备<br/>仲裁机制                                     | 单主设备（桥）/多从设备<br/>无仲裁                      |
| 数据协议 | 支持流水/分裂传输<br/>支持猝发传输<br/>支持乱序访问<br/>字节/半字/字<br/>大小端对齐<br/>非对齐操作 | 支持流水/分裂传输<br/>支持猝发传输<br/>支持乱序访问<br/>字节/半字/字<br/>大小端对齐<br/>不支持非对齐操作 | 一次读/写传输占两个时钟周期<br/>不支持突发传输          |
| 传输方式 | 支持读写并行操作                                             | 不支持读写并行操作                                           | 不支持读写并行操作                                      |
| 时序     | 同步                                                         | 同步                                                         | 同步                                                    |
| 互联     | 多路                                                         | 多路                                                         | 无定义                                                  |



​                

​                   

[  完  ]